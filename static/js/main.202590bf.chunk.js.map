{"version":3,"sources":["photo.svg","magnifying-glass.svg","loading-indicator.svg","clear.svg","utils/queries.js","components/SearchBar.js","components/Artists.js","components/Articles.js","components/Artworks.js","components/Cities.js","components/Collections.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","GET_ARTIST_RESULTS","gql","_templateObject","SearchBar","_ref","loading","searchTerm","_useState","useState","_useState2","Object","slicedToArray","term","setTerm","onSearchSubmit","e","preventDefault","length","react_default","a","createElement","onSubmit","className","src","searchIcon","alt","onClick","loadingIcon","cancelIcon","value","onChange","_ref2","target","type","placeholder","Artists","artists","map","artist","react","key","node","href","displayLabel","imageUrl","fallbackImage","Articles","articles","article","Artworks","artworks","artwork","Cities","cities","city","Collections","collections","col","categories","id","name","App","client","setSearchTerm","_useState3","_useState4","categoryIdx","setCategoryIdx","_useLazyQuery","useLazyQuery","_useLazyQuery2","getSearchResult","_useLazyQuery2$","data","onSearch","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","variables","query","entity","stop","_x","apply","this","arguments","components_SearchBar","li","index","_","search","Fragment","components_Artists","edges","components_Artworks","components_Articles","components_Cities","components_Collections","ApolloClient","uri","ReactDOM","render","react_common_esm","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.202590bf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/photo.29a98b0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.a8b3079e.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-indicator.6eca94c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.2c97f487.svg\";","import { gql } from \"apollo-boost\";\r\n\r\nexport const GET_ARTIST_RESULTS = gql`\r\n  query getSearchResults($query: String!, $entity: [SearchEntity]) {\r\n    search(query: $query, first: 5, entities: $entity) {\r\n      edges {\r\n        node {\r\n          displayLabel\r\n          href\r\n          imageUrl\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/searchbar.css\";\r\nimport searchIcon from \"../magnifying-glass.svg\";\r\nimport loadingIcon from \"../loading-indicator.svg\";\r\nimport cancelIcon from \"../clear.svg\";\r\n\r\nfunction SearchBar({ loading, searchTerm }) {\r\n  const [term, setTerm] = useState(\"\");\r\n\r\n  // controlled input\r\n  const onInputChange = ({ target: { value } }) => {\r\n    setTerm(value);\r\n  };\r\n\r\n  // fire query with the term submitted\r\n  const onSearchSubmit = e => {\r\n    e.preventDefault();\r\n    if (term.length > 0) {\r\n      searchTerm(term);\r\n    }\r\n  };\r\n\r\n  // clear the term\r\n  const onClearTerm = () => {\r\n    setTerm(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSearchSubmit} className=\"ui form\">\r\n        <img\r\n          className={term.length > 0 ? \"search with-text\" : \"search\"}\r\n          src={searchIcon}\r\n          alt=\"search-icon\"\r\n          onClick={onSearchSubmit}\r\n        />\r\n        {loading ? (\r\n          <img className=\"loading\" src={loadingIcon} alt=\"loading-icon\" />\r\n        ) : term ? (\r\n          <img\r\n            className=\"cancel\"\r\n            src={cancelIcon}\r\n            alt=\"cancel-icon\"\r\n            onClick={onClearTerm}\r\n          />\r\n        ) : null}\r\n        <input\r\n          className={term.length > 0 ? \"input-with-text\" : \"input-no-text\"}\r\n          value={term}\r\n          onChange={onInputChange}\r\n          type=\"text\"\r\n          placeholder=\"Search by artist, gallery, style, theme, tag etc.\"\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  loading: PropTypes.bool,\r\n  searchTerm: PropTypes.func\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/artists.css\";\r\nimport fallbackImage from \"../photo.svg\";\r\n\r\n/**\r\n * Display artists category\r\n * @param {artists} artists\r\n */\r\nfunction Artists({ artists }) {\r\n  return (\r\n    <div className=\"container\">\r\n      {artists.length > 0 ? (\r\n        artists.map(artist => (\r\n          <Fragment key={artist.node.href}>\r\n            <main>\r\n              <p>{artist.node.displayLabel}</p>\r\n              <h6>Artist</h6>\r\n            </main>\r\n            <img\r\n              className={\r\n                artist.node.imageUrl.length > 0 ? \"avatar\" : \"avatar no-image\"\r\n              }\r\n              src={\r\n                artist.node.imageUrl.length > 0\r\n                  ? artist.node.imageUrl\r\n                  : fallbackImage\r\n              }\r\n              alt=\"artist_image\"\r\n            />\r\n          </Fragment>\r\n        ))\r\n      ) : (\r\n        <h4>No result found</h4>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nArtists.propTypes = {\r\n  artists: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        displayLabel: PropTypes.string,\r\n        href: PropTypes.string,\r\n        imageUrl: PropTypes.string\r\n      })\r\n    })\r\n  )\r\n};\r\n\r\nexport default Artists;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/articles.css\";\r\nimport fallbackImage from \"../photo.svg\";\r\n\r\n/**\r\n * Display articles category\r\n * @param {articles} props\r\n */\r\nfunction Articles({ articles }) {\r\n  return (\r\n    <div className=\"container\">\r\n      {articles.length > 0 ? (\r\n        articles.map(article => (\r\n          <Fragment key={article.node.href}>\r\n            <main>\r\n              <p>{article.node.displayLabel}</p>\r\n              <h6>Article</h6>\r\n            </main>\r\n            <img\r\n              className={\r\n                article.node.imageUrl.length > 0 ? \"avatar\" : \"avatar no-image\"\r\n              }\r\n              src={\r\n                article.node.imageUrl.length > 0\r\n                  ? article.node.imageUrl\r\n                  : fallbackImage\r\n              }\r\n              alt=\"article_image\"\r\n            />\r\n          </Fragment>\r\n        ))\r\n      ) : (\r\n        <h4>No result found</h4>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nArticles.propTypes = {\r\n  articles: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        displayLabel: PropTypes.string,\r\n        href: PropTypes.string,\r\n        imageUrl: PropTypes.string\r\n      })\r\n    })\r\n  )\r\n};\r\n\r\nexport default Articles;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/artworks.css\";\r\nimport fallbackImage from \"../photo.svg\";\r\n\r\n/**\r\n * Display artworks category\r\n * @param {artworks} artworks\r\n */\r\nfunction Artworks({ artworks }) {\r\n  return (\r\n    <div className=\"container\">\r\n      {artworks.length > 0 ? (\r\n        artworks.map(artwork => (\r\n          <Fragment key={artwork.node.href}>\r\n            <main>\r\n              <p>{artwork.node.displayLabel}</p>\r\n              <h6>Artwork</h6>\r\n            </main>\r\n            <img\r\n              className={\r\n                artwork.node.imageUrl.length > 0 ? \"avatar\" : \"avatar no-image\"\r\n              }\r\n              src={\r\n                artwork.node.imageUrl.length > 0\r\n                  ? artwork.node.imageUrl\r\n                  : fallbackImage\r\n              }\r\n              alt=\"artwork_image\"\r\n            />\r\n          </Fragment>\r\n        ))\r\n      ) : (\r\n        <h4>No result found</h4>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nArtworks.propTypes = {\r\n  artworks: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        displayLabel: PropTypes.string,\r\n        href: PropTypes.string,\r\n        imageUrl: PropTypes.string\r\n      })\r\n    })\r\n  )\r\n};\r\n\r\nexport default Artworks;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/cities.css\";\r\nimport fallbackImage from \"../photo.svg\";\r\n\r\n/**\r\n * Display cities category\r\n * @param {cities} cities\r\n */\r\nfunction Cities({ cities }) {\r\n  return (\r\n    <div className=\"container\">\r\n      {cities.length > 0 ? (\r\n        cities.map(city => (\r\n          <Fragment key={city.node.href}>\r\n            <main>\r\n              <p>{city.node.displayLabel}</p>\r\n              <h6>City</h6>\r\n            </main>\r\n            <img\r\n              className={\r\n                city.node.imageUrl.length > 0 ? \"avatar\" : \"avatar no-image\"\r\n              }\r\n              src={\r\n                city.node.imageUrl.length > 0\r\n                  ? city.node.imageUrl\r\n                  : fallbackImage\r\n              }\r\n              alt=\"city_image\"\r\n            />\r\n          </Fragment>\r\n        ))\r\n      ) : (\r\n        <h4>No result found</h4>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nCities.propTypes = {\r\n  cities: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        displayLabel: PropTypes.string,\r\n        href: PropTypes.string,\r\n        imageUrl: PropTypes.string\r\n      })\r\n    })\r\n  )\r\n};\r\n\r\nexport default Cities;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/collections.css\";\r\nimport fallbackImage from \"../photo.svg\";\r\n\r\n/**\r\n * Display collections category\r\n * @param {collections} collections\r\n */\r\nfunction Collections({ collections }) {\r\n  return (\r\n    <div className=\"container\">\r\n      {collections.length > 0 ? (\r\n        collections.map(col => (\r\n          <Fragment key={col.node.href}>\r\n            <main>\r\n              <p>{col.node.displayLabel}</p>\r\n              <h6>Collection</h6>\r\n            </main>\r\n            <img\r\n              className={\r\n                col.node.imageUrl.length > 0 ? \"avatar\" : \"avatar no-image\"\r\n              }\r\n              src={\r\n                col.node.imageUrl.length > 0 ? col.node.imageUrl : fallbackImage\r\n              }\r\n              alt=\"collection_image\"\r\n            />\r\n          </Fragment>\r\n        ))\r\n      ) : (\r\n        <h4>No result found </h4>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nCollections.propTypes = {\r\n  collections: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      node: PropTypes.shape({\r\n        displayLabel: PropTypes.string,\r\n        href: PropTypes.string,\r\n        imageUrl: PropTypes.string\r\n      })\r\n    })\r\n  )\r\n};\r\n\r\nexport default Collections;\r\n","import React, { useState } from \"react\";\r\nimport { GET_ARTIST_RESULTS } from \"../utils/queries\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport Artists from \"./Artists\";\r\nimport Articles from \"./Articles\";\r\nimport Artworks from \"./Artworks\";\r\nimport Cities from \"./Cities\";\r\nimport Collections from \"./Collections\";\r\n\r\nconst categories = [\r\n  { id: 0, name: \"Artists\" },\r\n  { id: 1, name: \"Artworks\" },\r\n  { id: 2, name: \"Articles\" },\r\n  { id: 3, name: \"Cities\" },\r\n  { id: 4, name: \"Collections\" }\r\n];\r\n\r\nconst App = ({ client }) => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [categoryIdx, setCategoryIdx] = useState(0);\r\n  // apollo hooks for lazily fire queries\r\n  const [getSearchResult, { loading, data }] = useLazyQuery(GET_ARTIST_RESULTS);\r\n\r\n  const onSearch = async term => {\r\n    //fire initial api request\r\n    setSearchTerm(term);\r\n    getSearchResult({ variables: { query: term, entity: [\"ARTIST\"] } });\r\n    // select artists category\r\n    setCategoryIdx(0);\r\n  };\r\n\r\n  const onCategorySelected = id => {\r\n    // Consecutive requests based on specific entity\r\n    // For the purpose of lazy loading, it's better to load them on demand\r\n    // because the result set can be long in reality (even though we're limiting it manually to 5)\r\n    // for consecutive selections on the same category will be retrieved from cache\r\n    // thanks to Apollo and prevent multiple requests\r\n    if (id === 0) {\r\n      getSearchResult({ variables: { query: searchTerm, entity: [\"ARTIST\"] } });\r\n    } else if (id === 1) {\r\n      getSearchResult({\r\n        variables: { query: searchTerm, entity: [\"ARTWORK\"] }\r\n      });\r\n    } else if (id === 2) {\r\n      getSearchResult({\r\n        variables: { query: searchTerm, entity: [\"ARTICLE\"] }\r\n      });\r\n    } else if (id === 3) {\r\n      getSearchResult({ variables: { query: searchTerm, entity: [\"CITY\"] } });\r\n    } else if (id === 4) {\r\n      getSearchResult({\r\n        variables: { query: searchTerm, entity: [\"COLLECTION\"] }\r\n      });\r\n    }\r\n    // set selected category idx\r\n    setCategoryIdx(id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"resultContainer\">\r\n      <SearchBar searchTerm={onSearch} loading={loading} />\r\n      {(searchTerm || loading) && (\r\n        <div className=\"resultList\">\r\n          <ul>\r\n            {categories.map((li, index) => (\r\n              <li\r\n                className={categoryIdx === index ? \"selected\" : null}\r\n                onClick={_ => onCategorySelected(li.id)}\r\n                key={li.id}\r\n              >\r\n                {li.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n      {data && data.search && (\r\n        <>\r\n          <div className=\"resultList\">\r\n            {categoryIdx === 0 && <Artists artists={data.search.edges} />}\r\n            {categoryIdx === 1 && <Artworks artworks={data.search.edges} />}\r\n            {categoryIdx === 2 && <Articles articles={data.search.edges} />}\r\n            {categoryIdx === 3 && <Cities cities={data.search.edges} />}\r\n            {categoryIdx === 4 && (\r\n              <Collections collections={data.search.edges} />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport ApolloClient from \"apollo-boost\";\r\nimport { ApolloProvider } from \"react-apollo\";\r\nimport \"./index.css\";\r\n\r\nconst client = new ApolloClient({\r\n  uri: \"https://metaphysics-production.artsy.net\"\r\n});\r\n\r\nconst ApolloApp = () => (\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>\r\n);\r\n\r\nReactDOM.render(<ApolloApp />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}